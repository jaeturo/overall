<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ë³µë¦¬ ê³„ì‚°ê¸° | ì‹¤ìƒí™œ ëª¨ìŒzip</title>
  <meta name="description" content="ì›ê¸ˆ, ì´ìœ¨, ê¸°ê°„, ì›” ì ë¦½ì•¡ì„ ì…ë ¥í•˜ë©´ ë³µë¦¬ë¡œ ì„±ì¥í•œ ìµœì¢… ê¸ˆì•¡ì„ ê³„ì‚°í•˜ëŠ” ì‹¤ìƒí™œ ëª¨ìŒzip ë³µë¦¬ ê³„ì‚°ê¸°ì…ë‹ˆë‹¤.">
  <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
  <header class="header">
    <nav class="navbar">
      <div class="logo">ì‹¤ìƒí™œ ë„ì›€zip</div>
      <div class="hamburger" id="hamburger">
        <span></span>
        <span></span>
        <span></span>
      </div>
      <ul class="nav-menu" id="navMenu">
        <li class="nav-item nav-home"><a href="index.html">í™ˆ</a></li>
        <li class="nav-item dropdown" id="stockDropdown">
          <button type="button" class="dropbtn" id="dropdownBtn">ğŸ“ˆ íˆ¬ì ê³„ì‚°ê¸°</button>
          <ul class="dropdown-content" id="dropdownMenu">
            <li><a href="compound.html">ë³µë¦¬ ê³„ì‚°ê¸°</a></li>
            <li><a href="dividend.html">ë°°ë‹¹ë¥  ê³„ì‚°ê¸°</a></li>
            <li><a href="profit.html">ì£¼ì‹ ìˆ˜ìµë¥  ê³„ì‚°ê¸°</a></li>
            <li><a href="averaging.html">ë¬¼íƒ€ê¸° ê³„ì‚°ê¸°</a></li>
            <li><a href="multi-average.html">ì—¬ëŸ¬ ì¢…ëª© í‰ë‹¨ê°€ ê³„ì‚°ê¸°</a></li>
            <li><a href="us-tax-calculator.html">ë¯¸êµ­ì£¼ì‹ ì–‘ë„ì„¸ ê³„ì‚°ê¸°</a></li>
            <li><a href="us-deduction-calculator.html">ë¯¸êµ­ì£¼ì‹ ê³µì œ í˜œíƒ ê³„ì‚°ê¸°</a></li>
          </ul>
        </li>
        <li class="nav-item dropdown" id="ageDropdownCompound">
          <button type="button" class="dropbtn" id="ageDropdownBtnCompound">ğŸ‚ ë‚˜ì´ ê³„ì‚°ê¸°</button>
          <ul class="dropdown-content" id="ageDropdownMenuCompound">
            <li><a href="age-calculator.html">ë‚˜ì´ ê³„ì‚°ê¸°</a></li>
            <li><a href="zodiac-calculator.html">ë  ê³„ì‚°ê¸°</a></li>
          </ul>
        </li>
        <li class="nav-item dropdown" id="compatibilityDropdownCompound">
          <button type="button" class="dropbtn" id="compatibilityDropdownBtnCompound">ğŸ’• ê¶í•©</button>
          <ul class="dropdown-content" id="compatibilityDropdownMenuCompound">
            <li><a href="zodiac-compatibility.html">ë ë³„ ê¶í•© ê³„ì‚°ê¸°</a></li>
          </ul>
        </li>
        <!-- ê¸°ëŠ¥ë³„ ë©”ë‰´ëŠ” ì¶”í›„ ì¶”ê°€ -->
  <style>
    .dropdown { position: relative; }
    .dropbtn {
      cursor: pointer;
      background: linear-gradient(90deg, #88BF78 60%, #98BF8E 100%);
      color: #fff;
      border: none;
      border-radius: 8px;
      padding: 12px 16px;
      font-size: 1rem;
      font-weight: 500;
      box-shadow: 0 2px 8px rgba(143,183,164,0.10);
      transition: background 0.2s, color 0.2s;
      margin: 0;
      display: flex;
      align-items: center;
      gap: 6px;
      height: 40px;
    }
    .dropbtn:hover {
      background: linear-gradient(90deg, #98BF8E 60%, #88BF78 100%);
      color: #2563eb;
    }
    .dropdown-content {
      display: none !important;
      position: absolute;
      top: 110%;
      left: 0;
      background: #fff !important;
      min-width: 220px;
      box-shadow: 0 8px 32px rgba(136,191,120,0.18);
      z-index: 20;
      border-radius: 18px;
      padding: 18px 0 10px 0;
      margin: 0;
      border: 1.5px solid #C7D9AD;
      flex-direction: column;
      gap: 0;
      animation: fadeInCard 0.18s;
      opacity: 1 !important;
      visibility: visible !important;
    }
    @keyframes fadeInCard {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .dropdown-content li {
      list-style: none;
      margin: 0;
      padding: 0;
    }
    .dropdown-content a {
      color: #000 !important;
      padding: 16px 28px 14px 28px;
      text-decoration: none;
      display: block;
      font-size: 1.08rem;
      border-radius: 10px;
      background: none;
      margin: 0 10px 8px 10px;
      font-weight: 500;
      transition: background 0.15s, color 0.15s;
      box-shadow: 0 1px 4px rgba(136,191,120,0.06);
      opacity: 1 !important;
      visibility: visible !important;
    }
    .dropdown-content a:hover {
      background: linear-gradient(90deg, #e6f4ea 60%, #f7f8fa 100%);
      color: #2563eb;
    }
    .dropdown-content.show {
      display: flex !important;
      visibility: visible !important;
      opacity: 1 !important;
    }
    @media (max-width: 600px) {
      .dropdown-content { min-width: 140px; padding: 10px 0 6px 0; }
      .dropdown-content a { font-size: 0.97rem; padding: 12px 16px 10px 16px; margin: 0 4px 6px 4px; }
      .dropbtn { font-size: 1rem; padding: 10px 14px; }
    }
  </style>
      </ul>
    </nav>
  <script>
    // ë“œë¡­ë‹¤ìš´ í´ë¦­ í† ê¸€
    document.addEventListener('DOMContentLoaded', function() {
      var btn = document.getElementById('dropdownBtn');
      var menu = document.getElementById('dropdownMenu');
      var dropdown = document.getElementById('stockDropdown');
      
      // ë“œë¡­ë‹¤ìš´ ë©”ë‰´ ìœ„ì¹˜ ì¡°ì • í•¨ìˆ˜
      function adjustDropdownPosition() {
        if (menu.classList.contains('show')) {
          const dropdownRect = dropdown.getBoundingClientRect();
          const menuWidth = 220; // min-width ê°’
          const viewportWidth = window.innerWidth;
          
          // ê¸°ì¡´ ìœ„ì¹˜ í´ë˜ìŠ¤ ì œê±°
          menu.classList.remove('right-aligned', 'center-aligned');
          
          // ì˜¤ë¥¸ìª½ì—ì„œ ì˜ë¦´ ê²½ìš°
          if (dropdownRect.left + menuWidth > viewportWidth) {
            // ì™¼ìª½ì—ì„œë„ ì˜ë¦´ ê²½ìš° ì¤‘ì•™ ì •ë ¬
            if (dropdownRect.left - menuWidth < 0) {
              menu.classList.add('center-aligned');
            } else {
              // ì˜¤ë¥¸ìª½ ì •ë ¬
              menu.classList.add('right-aligned');
            }
          }
        }
      }
      
      btn.addEventListener('click', function(e) {
        e.stopPropagation();
        menu.classList.toggle('show');
        
        // ë©”ë‰´ê°€ ì—´ë¦´ ë•Œ ìœ„ì¹˜ ì¡°ì •
        if (menu.classList.contains('show')) {
          setTimeout(adjustDropdownPosition, 10);
        }
      });
      
      // ì°½ í¬ê¸° ë³€ê²½ ì‹œ ìœ„ì¹˜ ì¬ì¡°ì •
      window.addEventListener('resize', function() {
        if (menu.classList.contains('show')) {
          adjustDropdownPosition();
        }
      });
      
      document.addEventListener('click', function(e) {
        if (!dropdown.contains(e.target)) {
          menu.classList.remove('show');
        }
      });
    });

    // ëª¨ë°”ì¼ í–„ë²„ê±° ë©”ë‰´ í† ê¸€
    document.addEventListener('DOMContentLoaded', function() {
      const hamburger = document.getElementById('hamburger');
      const navMenu = document.getElementById('navMenu');
      
      hamburger.addEventListener('click', function() {
        hamburger.classList.toggle('active');
        navMenu.classList.toggle('active');
      });
      
      // ë©”ë‰´ ë§í¬ í´ë¦­ ì‹œ ë©”ë‰´ ë‹«ê¸°
      const navLinks = navMenu.querySelectorAll('a');
      navLinks.forEach(link => {
        link.addEventListener('click', function() {
          hamburger.classList.remove('active');
          navMenu.classList.remove('active');
        });
      });
    });
  </script>
  </header>
  <main class="main-content">
    <section class="intro-section">
      <h1>ë³µë¦¬ ê³„ì‚°ê¸°</h1>
      <p>ì›ê¸ˆ, ì´ìœ¨, ê¸°ê°„, ì›” ì ë¦½ì•¡ì„ ì…ë ¥í•˜ë©´ ë³µë¦¬ë¡œ ì„±ì¥í•œ ìµœì¢… ê¸ˆì•¡ì„ ê³„ì‚°í•©ë‹ˆë‹¤.<br>
      ë‹¤ì–‘í•œ íˆ¬ì ì‹œë‚˜ë¦¬ì˜¤ì— í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
    </section>
    <section class="feature-section">
      <div class="compound-card">
        <div class="currency-tabs">
          <button type="button" id="tabKRW" class="tab-btn active">ì›í™”(â‚©)</button>
          <button type="button" id="tabUSD" class="tab-btn">ë‹¬ëŸ¬($)</button>
        </div>
        <form id="compoundForm" autocomplete="off">
          <div class="form-group">
            <label for="principal">ì›ê¸ˆ(<span id="currencyLabel">â‚©</span>)</label>
            <input type="text" id="principal" name="principal" inputmode="numeric" pattern="[0-9,]*" placeholder="10,000,000" required autocomplete="off">
          </div>
          <div class="form-group">
            <label for="rate">ì—°ì´ìœ¨(%)</label>
            <input type="number" id="rate" name="rate" min="0" max="100" step="0.01" placeholder="5.5" required>
          </div>
          <div class="form-group">
            <label for="years">ê¸°ê°„(ë…„)</label>
            <input type="number" id="years" name="years" min="1" max="100" step="1" placeholder="10" required>
          </div>
          <div class="form-group">
            <label for="tax">ì„¸ê¸ˆ(%)</label>
            <input type="number" id="tax" name="tax" min="0" max="100" step="0.01" placeholder="15.4">
          </div>
          <div class="form-group">
            <label for="frequency">ë³µë¦¬ ì£¼ê¸°</label>
            <select id="frequency" name="frequency" class="" required>
              <option value="year">ì—°</option>
              <option value="month" selected>ì›”</option>
              <option value="week">ì£¼</option>
              <option value="day">ì¼</option>
            </select>
          </div>
          <div class="form-group">
            <label for="monthly">ì›” ì ë¦½ì•¡(<span id="currencyLabel2">â‚©</span>, ì„ íƒ)</label>
            <input type="text" id="monthly" name="monthly" inputmode="numeric" pattern="[0-9,]*" placeholder="200,000" autocomplete="off">
          </div>
          <div class="form-group" id="fxRateGroup" style="display:none;">
            <label for="fxRate">í™˜ìœ¨(1ë‹¬ëŸ¬ë‹¹ ì›í™”)</label>
            <input type="number" id="fxRate" name="fxRate" min="1" step="0.01" placeholder="1350">
          </div>
          <button type="submit" class="btn">ê³„ì‚°í•˜ê¸°</button>
        </form>
      </div>
      <div id="resultSection" class="compound-result" style="display:none;">
        <div id="resultSummaryCard" style="background:linear-gradient(90deg,#e6f4ea 60%,#f7f8fa 100%);border-radius:12px;padding:18px 14px 14px 14px;margin-bottom:18px;box-shadow:0 2px 8px rgba(143,183,164,0.10);text-align:center;"></div>
        <h2 id="resultTitle">ê³„ì‚° ê²°ê³¼</h2>
        <table class="result-table" id="resultTable">
          <thead>
            <tr id="resultTableHeader"></tr>
          </thead>
          <tbody>
          </tbody>
        </table>
      </div>
    </section>

    <!-- ì‚¬ìš© ë°©ë²• ì•ˆë‚´ë¥¼ ì•„ë˜ë¡œ ì´ë™ -->
    <section class="feature-section" style="max-width:480px;margin:32px auto 0 auto;">
      <div style="background:#f1f5f9;border-radius:10px;padding:18px 14px 12px 14px;color:#374151;font-size:0.98rem;line-height:1.7;box-shadow:0 1px 6px rgba(143,183,164,0.06);">
        <strong>ì‚¬ìš© ë°©ë²• ì•ˆë‚´</strong><br>
        <ul style="margin:10px 0 0 18px;padding:0;">
          <li><b>ì›í™”/ë‹¬ëŸ¬ íƒ­</b>ì„ ì„ íƒí•´ ê³„ì‚° í†µí™”ë¥¼ ì •í•˜ì„¸ìš”. ë‹¬ëŸ¬ ê³„ì‚° ì‹œ í™˜ìœ¨ ì…ë ¥ë€ì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.</li>
          <li><b>ì›ê¸ˆ</b>: íˆ¬ì ì‹œì‘ ê¸ˆì•¡ì„ ì…ë ¥í•©ë‹ˆë‹¤.</li>
          <li><b>ì—°ì´ìœ¨</b>: ì—°ê°„ ì˜ˆìƒ ìˆ˜ìµë¥ (%)ì„ ì…ë ¥í•©ë‹ˆë‹¤.</li>
          <li><b>ê¸°ê°„</b>: íˆ¬ì ê¸°ê°„(ë…„ ë‹¨ìœ„)ì„ ì…ë ¥í•©ë‹ˆë‹¤.</li>
          <li><b>ë³µë¦¬ ì£¼ê¸°</b>: ì´ìê°€ ì–¼ë§ˆë‚˜ ìì£¼ ë³µë¦¬ë¡œ ë¶™ëŠ”ì§€ ì„ íƒí•˜ì„¸ìš”(ì—°, ì›”, ì£¼, ì¼).</li>
          <li><b>ì›” ì ë¦½ì•¡</b>: ë§¤ì›” ì¶”ê°€ë¡œ ë‚©ì…í•  ê¸ˆì•¡ì´ ìˆë‹¤ë©´ ì…ë ¥í•©ë‹ˆë‹¤(ì„ íƒ).</li>
          <li><b>í™˜ìœ¨</b>: ë‹¬ëŸ¬ ê³„ì‚° ì‹œ 1ë‹¬ëŸ¬ë‹¹ ì›í™” í™˜ìœ¨ì„ ì…ë ¥í•˜ì„¸ìš”(ì˜ˆ: 1350).</li>
          <li><b>ì„¸ê¸ˆ</b>: ì´ìì— ì ìš©í•  ì„¸ìœ¨(%)ì„ ì…ë ¥í•˜ì„¸ìš”. (ì˜ˆ: 15.4)</li>
          <li>ëª¨ë“  ê°’ì„ ì…ë ¥í•œ í›„ <b>ê³„ì‚°í•˜ê¸°</b> ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ê²°ê³¼ê°€ ì•„ë˜ì— í‘œì‹œë©ë‹ˆë‹¤.</li>
        </ul>
        <div style="margin-top:10px;color:#b91c1c;font-size:0.97rem;"><b>â€» ë³µë¦¬ ì£¼ê¸°ë³„ ì—°ë„ë³„ ìµœëŒ€ ê³„ì‚° ê°€ëŠ¥ ê¸°ê°„ ì•ˆë‚´</b><br>
          <span style="color:#374151;">ê²°ê³¼ í‘œëŠ” ìµœëŒ€ 1000í–‰ê¹Œì§€ë§Œ í‘œì‹œë©ë‹ˆë‹¤.<br>
          <b>ì—° ë‹¨ìœ„ëŠ” ìµœëŒ€ 1000ë…„ê¹Œì§€ ê°€ëŠ¥í•©ë‹ˆë‹¤.</b><br>
          <b>ì›” ë‹¨ìœ„ëŠ” ìµœëŒ€ 83ë…„ê¹Œì§€ ê°€ëŠ¥í•©ë‹ˆë‹¤.</b><br>
          <b>ì£¼ ë‹¨ìœ„ëŠ” ìµœëŒ€ 19ë…„ê¹Œì§€ ê°€ëŠ¥í•©ë‹ˆë‹¤.</b><br>
          <b>ì¼ ë‹¨ìœ„ëŠ” ìµœëŒ€ 2ë…„ê¹Œì§€ ê°€ëŠ¥í•©ë‹ˆë‹¤.</b></span>
        </div>
        <div style="margin-top:8px;color:#5a7d6c;font-size:0.97rem;">â€» ê³„ì‚° ê²°ê³¼ëŠ” ì°¸ê³ ìš©ì´ë©°, ì‹¤ì œ íˆ¬ì ì „ ì „ë¬¸ê°€ ìƒë‹´ì„ ê¶Œì¥í•©ë‹ˆë‹¤.</div>
      </div>
    </section>
  </main>
  <footer class="footer">
    <div style="margin-bottom:6px;">
      <a href="terms.html" style="color:#000;text-decoration:none;">ì„œë¹„ìŠ¤ ì´ìš©ì•½ê´€</a>
    </div>
    <div class="footer-copy">Â©2025 ì‹¤ìƒí™œ ë„ì›€zip. All rights reserved.</div>
  </footer>
  <script>
    // ì…ë ¥ê°’ì— ì²œ ë‹¨ìœ„ ì½¤ë§ˆ ìë™ ì ìš©
    function addComma(n) {
      n = n.replace(/[^\d]/g, '');
      return n ? parseInt(n, 10).toLocaleString('ko-KR') : '';
    }
    function removeComma(n) {
      return n.replace(/,/g, '');
    }
    document.getElementById('principal').addEventListener('input', function(e) {
      const val = removeComma(e.target.value);
      e.target.value = addComma(val);
    });
    document.getElementById('monthly').addEventListener('input', function(e) {
      const val = removeComma(e.target.value);
      e.target.value = addComma(val);
    });

    // í†µí™” íƒ­ UI ë° ê³„ì‚° ë¡œì§
    let currentCurrency = 'KRW';
    document.getElementById('tabKRW').addEventListener('click', function() {
      currentCurrency = 'KRW';
      this.classList.add('active');
      document.getElementById('tabUSD').classList.remove('active');
      document.getElementById('currencyLabel').textContent = 'â‚©';
      document.getElementById('currencyLabel2').textContent = 'â‚©';
      document.getElementById('fxRateGroup').style.display = 'none';
      document.getElementById('thInterest').textContent = 'ì´ì(â‚©)';
      document.getElementById('thAmount').textContent = 'ëˆ„ì ê¸ˆì•¡(â‚©)';
      document.getElementById('resultTitle').textContent = 'ì—°ë„ë³„ ê³„ì‚° ê²°ê³¼';
    });
    document.getElementById('tabUSD').addEventListener('click', function() {
      currentCurrency = 'USD';
      this.classList.add('active');
      document.getElementById('tabKRW').classList.remove('active');
      document.getElementById('currencyLabel').textContent = '$';
      document.getElementById('currencyLabel2').textContent = '$';
      document.getElementById('fxRateGroup').style.display = 'block';
      document.getElementById('thInterest').textContent = 'ì´ì($)';
      document.getElementById('thAmount').textContent = 'ëˆ„ì ê¸ˆì•¡($)';
      document.getElementById('resultTitle').textContent = 'ì—°ë„ë³„ ê³„ì‚° ê²°ê³¼ (USD)';
    });

    document.getElementById('compoundForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const principal = parseFloat(removeComma(document.getElementById('principal').value));
      const years = parseInt(document.getElementById('years').value, 10);
      const rate = parseFloat(document.getElementById('rate').value);
      const monthly = parseFloat(removeComma(document.getElementById('monthly').value)) || 0;
      const freq = document.getElementById('frequency').value;
      let fxRate = parseFloat(document.getElementById('fxRate').value) || 1350;
      const taxInput = document.getElementById('tax').value;
      const taxRate = taxInput !== '' && !isNaN(parseFloat(taxInput)) ? parseFloat(taxInput) / 100 : null;
      if (isNaN(principal) || isNaN(years) || isNaN(rate) || principal < 0 || years < 1 || rate < 0) {
        alert('ëª¨ë“  ê°’ì„ ì˜¬ë°”ë¥´ê²Œ ì…ë ¥í•´ì£¼ì„¸ìš”.');
        return;
      }
      // ë³µë¦¬ ì£¼ê¸°ë³„ n, r ê³„ì‚°
      let n, r, label, totalPeriods;
      if (freq === 'year') {
        n = 1;
        r = rate / 100;
        label = 'ì—°ë„';
        totalPeriods = years;
      } else if (freq === 'month') {
        n = 12;
        r = rate / 100 / 12;
        label = 'ê°œì›”';
        totalPeriods = years * 12;
      } else if (freq === 'week') {
        n = 52;
        r = rate / 100 / 52;
        label = 'ì£¼';
        totalPeriods = years * 52;
      } else if (freq === 'day') {
        n = 365;
        r = rate / 100 / 365;
        label = 'ì¼';
        totalPeriods = years * 365;
      }
      let amount = principal;
      let totalInterest = 0;
      let totalDeposit = 0;
      const tbody = document.querySelector('#resultTable tbody');
      const theadTr = document.getElementById('resultTableHeader');
      tbody.innerHTML = '';
      if (taxRate !== null && taxRate > 0) {
        theadTr.innerHTML = `<th>${label}</th><th>ì„¸ì „ ì´ì(${currentCurrency === 'USD' ? '$' : 'â‚©'})</th><th>ì„¸í›„ ì´ì(${currentCurrency === 'USD' ? '$' : 'â‚©'})</th><th>ì„¸ì „ ëˆ„ì ê¸ˆì•¡(${currentCurrency === 'USD' ? '$' : 'â‚©'})</th><th>ì„¸í›„ ëˆ„ì ê¸ˆì•¡(${currentCurrency === 'USD' ? '$' : 'â‚©'})</th><th>ëˆ„ì ìˆ˜ìµë¥ (%)</th>`;
      } else {
        theadTr.innerHTML = `<th>${label}</th><th>ì´ì(${currentCurrency === 'USD' ? '$' : 'â‚©'})</th><th>ëˆ„ì ê¸ˆì•¡(${currentCurrency === 'USD' ? '$' : 'â‚©'})</th><th>ëˆ„ì ìˆ˜ìµë¥ (%)</th>`;
      }
      let afterTaxAmount = principal;
      let totalInterestAfterTax = 0;
      for (let i = 1; i <= totalPeriods; i++) {
        // ì›” ì ë¦½ì•¡ì€ ë³µë¦¬ ì£¼ê¸°ì™€ ë¬´ê´€í•˜ê²Œ ë§¤ì›” 1íšŒë§Œ ì ë¦½
        if (freq === 'year') {
          if (i % n === 0) {
            amount += monthly * 12;
            afterTaxAmount += monthly * 12;
            totalDeposit += monthly * 12;
          }
        } else {
          // ì›” ë‹¨ìœ„ë§ˆë‹¤ ì ë¦½
          if (i % (n === 12 ? 1 : n / 12) === 0) {
            amount += monthly;
            afterTaxAmount += monthly;
            totalDeposit += monthly;
          }
        }
        let interest = amount * r;
        let interestAfterTax = taxRate !== null && taxRate > 0 ? interest * (1 - taxRate) : null;
        totalInterest += interest;
        if (taxRate !== null && taxRate > 0) totalInterestAfterTax += interestAfterTax;
        amount += interest;
        if (taxRate !== null && taxRate > 0) afterTaxAmount += interestAfterTax;
        const cumulativeRate = taxRate !== null && taxRate > 0
          ? ((afterTaxAmount - principal - totalDeposit) / principal) * 100
          : ((amount - principal - totalDeposit) / principal) * 100;
        let interestVal = Math.round(interest);
        let interestAfterTaxVal = interestAfterTax !== null ? Math.round(interestAfterTax) : null;
        let amountVal = Math.round(amount);
        let afterTaxAmountVal = Math.round(afterTaxAmount);
        if (currentCurrency === 'USD') {
          interestVal = Math.round(interest / fxRate);
          if (interestAfterTaxVal !== null) interestAfterTaxVal = Math.round(interestAfterTax / fxRate);
          amountVal = Math.round(amount / fxRate);
          if (taxRate !== null && taxRate > 0) afterTaxAmountVal = Math.round(afterTaxAmount / fxRate);
        }
        const tr = document.createElement('tr');
        if (taxRate !== null && taxRate > 0) {
          tr.innerHTML = `
            <td>${i}</td>
            <td>+${interestVal.toLocaleString('ko-KR')}</td>
            <td>+${interestAfterTaxVal.toLocaleString('ko-KR')}</td>
            <td>${amountVal.toLocaleString('ko-KR')}</td>
            <td>${afterTaxAmountVal.toLocaleString('ko-KR')}</td>
            <td>${cumulativeRate.toFixed(2)}</td>
          `;
        } else {
          tr.innerHTML = `
            <td>${i}</td>
            <td>+${interestVal.toLocaleString('ko-KR')}</td>
            <td>${amountVal.toLocaleString('ko-KR')}</td>
            <td>${cumulativeRate.toFixed(2)}</td>
          `;
        }
        tbody.appendChild(tr);
        if (i >= 1000) break;
      }
      // ìš”ì•½ ì¹´ë“œ í‘œì‹œ
      let summary = '';
      let finalAmount = Math.round(amount);
      let finalAfterTaxAmount = Math.round(afterTaxAmount);
      let totalDepositAll = Math.round(principal + totalDeposit);
      let totalInterestAll = Math.round(totalInterest);
      let totalInterestAfterTaxAll = Math.round(totalInterestAfterTax);
      if (currentCurrency === 'KRW') {
        summary = `
          <div class="summary-block">
            <div class="summary-title">ìµœì¢… ê¸ˆì•¡${taxRate !== null && taxRate > 0 ? ' (ì„¸ì „)' : ''}</div>
            <div class="summary-value">${finalAmount.toLocaleString('ko-KR')}ì›</div>
          </div>
          ${taxRate !== null && taxRate > 0 ? `<div class="summary-block">
            <div class="summary-title">ìµœì¢… ê¸ˆì•¡ (ì„¸í›„)</div>
            <div class="summary-value positive">${finalAfterTaxAmount.toLocaleString('ko-KR')}ì›</div>
          </div>` : ''}
          <div class="summary-block">
            <div class="summary-label">ì´ ë‚©ì…ì•¡</div>
            <div class="summary-value">${totalDepositAll.toLocaleString('ko-KR')}ì›</div>
          </div>
          <div class="summary-block">
            <div class="summary-label">ì´ ì´ìí•©ê³„${taxRate !== null && taxRate > 0 ? ' (ì„¸ì „)' : ''}</div>
            <div class="summary-value">${totalInterestAll.toLocaleString('ko-KR')}ì›</div>
          </div>
          ${taxRate !== null && taxRate > 0 ? `<div class="summary-block">
            <div class="summary-label">ì´ ì´ìí•©ê³„ (ì„¸í›„)</div>
            <div class="summary-value positive">${totalInterestAfterTaxAll.toLocaleString('ko-KR')}ì›</div>
          </div>` : ''}
        `;
      } else {
        summary = `
          <div class="summary-block">
            <div class="summary-title">ìµœì¢… ê¸ˆì•¡${taxRate !== null && taxRate > 0 ? ' (ì„¸ì „)' : ''}</div>
            <div class="summary-value">${Math.round(finalAmount / fxRate).toLocaleString('ko-KR')}$</div>
          </div>
          ${taxRate !== null && taxRate > 0 ? `<div class="summary-block">
            <div class="summary-title">ìµœì¢… ê¸ˆì•¡ (ì„¸í›„)</div>
            <div class="summary-value positive">${Math.round(finalAfterTaxAmount / fxRate).toLocaleString('ko-KR')}$</div>
          </div>` : ''}
          <div class="summary-block">
            <div class="summary-label">ì´ ë‚©ì…ì•¡</div>
            <div class="summary-value">${Math.round(totalDepositAll / fxRate).toLocaleString('ko-KR')}$</div>
          </div>
          <div class="summary-block">
            <div class="summary-label">ì´ ì´ìí•©ê³„${taxRate !== null && taxRate > 0 ? ' (ì„¸ì „)' : ''}</div>
            <div class="summary-value">${Math.round(totalInterestAll / fxRate).toLocaleString('ko-KR')}$</div>
          </div>
          ${taxRate !== null && taxRate > 0 ? `<div class="summary-block">
            <div class="summary-label">ì´ ì´ìí•©ê³„ (ì„¸í›„)</div>
            <div class="summary-value positive">${Math.round(totalInterestAfterTaxAll / fxRate).toLocaleString('ko-KR')}$</div>
          </div>` : ''}
          <div class="summary-block">
            <div class="summary-label">í™˜ìœ¨ ê¸°ì¤€</div>
            <div class="summary-value">${fxRate.toLocaleString('ko-KR')}ì›/$</div>
          </div>
        `;
      }
      document.getElementById('resultSummaryCard').innerHTML = summary;
      document.getElementById('resultSection').style.display = 'block';
    });
  </script>
  </script>
</body>
</html>
