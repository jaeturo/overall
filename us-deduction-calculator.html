<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ë¯¸êµ­ì£¼ì‹ ê³µì œ í˜œíƒ ê³„ì‚°ê¸° | ì‹¤ìƒí™œ ëª¨ìŒzip</title>
  <meta name="description" content="ë¯¸êµ­ì£¼ì‹ ì—°ê°„ 250ë§Œì› ê³µì œ í˜œíƒì„ í™œìš©í•œ ë§¤ë§¤ ì „ëµì˜ ìˆ˜ìµì„ ê³„ì‚°í•˜ëŠ” ì‹¤ìƒí™œ ëª¨ìŒzip ë¯¸êµ­ì£¼ì‹ ê³µì œ í˜œíƒ ê³„ì‚°ê¸°ì…ë‹ˆë‹¤.">
  <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
  <header class="header">
    <nav class="navbar">
      <div class="logo">ì‹¤ìƒí™œ ë„ì›€zip</div>
      <div class="hamburger" id="hamburger">
        <span></span>
        <span></span>
        <span></span>
      </div>
      <ul class="nav-menu" id="navMenu">
        <li class="nav-item nav-home"><a href="index.html">í™ˆ</a></li>
        <li class="nav-item dropdown" id="stockDropdownDeduction">
          <button type="button" class="dropbtn" id="dropdownBtnDeduction">ğŸ“ˆ íˆ¬ì ê³„ì‚°ê¸°</button>
          <ul class="dropdown-content" id="dropdownMenuDeduction">
            <li><a href="compound.html">ë³µë¦¬ ê³„ì‚°ê¸°</a></li>
            <li><a href="dividend.html">ë°°ë‹¹ë¥  ê³„ì‚°ê¸°</a></li>
            <li><a href="profit.html">ì£¼ì‹ ìˆ˜ìµë¥  ê³„ì‚°ê¸°</a></li>
            <li><a href="averaging.html">ë¬¼íƒ€ê¸° ê³„ì‚°ê¸°</a></li>
            <li><a href="multi-average.html">ì—¬ëŸ¬ ì¢…ëª© í‰ë‹¨ê°€ ê³„ì‚°ê¸°</a></li>
            <li><a href="us-tax-calculator.html">ë¯¸êµ­ì£¼ì‹ ì–‘ë„ì„¸ ê³„ì‚°ê¸°</a></li>
            <li><a href="us-deduction-calculator.html">ë¯¸êµ­ì£¼ì‹ ê³µì œ í˜œíƒ ê³„ì‚°ê¸°</a></li>
          </ul>
        </li>
        <li class="nav-item dropdown" id="ageDropdownDeduction">
          <button type="button" class="dropbtn" id="ageDropdownBtnDeduction">ğŸ‚ ë‚˜ì´ ê³„ì‚°ê¸°</button>
          <ul class="dropdown-content" id="ageDropdownMenuDeduction">
            <li><a href="age-calculator.html">ë‚˜ì´ ê³„ì‚°ê¸°</a></li>
            <li><a href="zodiac-calculator.html">ë  ê³„ì‚°ê¸°</a></li>
          </ul>
        </li>
      </ul>
    </nav>
  <script>
    // ë“œë¡­ë‹¤ìš´ í´ë¦­ í† ê¸€ (ë¯¸êµ­ì£¼ì‹ ê³µì œ í˜œíƒ ê³„ì‚°ê¸° ì „ìš©)
    document.addEventListener('DOMContentLoaded', function() {
      var btn = document.getElementById('dropdownBtnDeduction');
      var menu = document.getElementById('dropdownMenuDeduction');
      var dropdown = document.getElementById('stockDropdownDeduction');
      
      // ë“œë¡­ë‹¤ìš´ ë©”ë‰´ ìœ„ì¹˜ ì¡°ì • í•¨ìˆ˜
      function adjustDropdownPosition() {
        if (menu.classList.contains('show')) {
          const dropdownRect = dropdown.getBoundingClientRect();
          const menuWidth = 220; // min-width ê°’
          const viewportWidth = window.innerWidth;
          
          // ê¸°ì¡´ ìœ„ì¹˜ í´ë˜ìŠ¤ ì œê±°
          menu.classList.remove('right-aligned', 'center-aligned');
          
          // ì˜¤ë¥¸ìª½ì—ì„œ ì˜ë¦´ ê²½ìš°
          if (dropdownRect.left + menuWidth > viewportWidth) {
            // ì™¼ìª½ì—ì„œë„ ì˜ë¦´ ê²½ìš° ì¤‘ì•™ ì •ë ¬
            if (dropdownRect.left - menuWidth < 0) {
              menu.classList.add('center-aligned');
            } else {
              // ì˜¤ë¥¸ìª½ ì •ë ¬
              menu.classList.add('right-aligned');
            }
          }
        }
      }
      
      btn.addEventListener('click', function(e) {
        e.stopPropagation();
        menu.classList.toggle('show');
        
        // ë©”ë‰´ê°€ ì—´ë¦´ ë•Œ ìœ„ì¹˜ ì¡°ì •
        if (menu.classList.contains('show')) {
          setTimeout(adjustDropdownPosition, 10);
        }
      });
      
      // ì°½ í¬ê¸° ë³€ê²½ ì‹œ ìœ„ì¹˜ ì¬ì¡°ì •
      window.addEventListener('resize', function() {
        if (menu.classList.contains('show')) {
          adjustDropdownPosition();
        }
      });
      
      document.addEventListener('click', function(e) {
        if (!dropdown.contains(e.target)) {
          menu.classList.remove('show');
        }
      });
    });

    // ëª¨ë°”ì¼ í–„ë²„ê±° ë©”ë‰´ í† ê¸€
    document.addEventListener('DOMContentLoaded', function() {
      const hamburger = document.getElementById('hamburger');
      const navMenu = document.getElementById('navMenu');
      
      hamburger.addEventListener('click', function() {
        hamburger.classList.toggle('active');
        navMenu.classList.toggle('active');
      });
      
      // ë©”ë‰´ ë§í¬ í´ë¦­ ì‹œ ë©”ë‰´ ë‹«ê¸°
      const navLinks = navMenu.querySelectorAll('a');
      navLinks.forEach(link => {
        link.addEventListener('click', function() {
          hamburger.classList.remove('active');
          navMenu.classList.remove('active');
        });
      });
    });
  </script>
  </header>
  <main class="main-content">
    <section class="intro-section">
      <h1>ë¯¸êµ­ì£¼ì‹ ê³µì œ í˜œíƒ ê³„ì‚°ê¸°</h1>
      <p>ë¯¸êµ­ì£¼ì‹ ì—°ê°„ 250ë§Œì› ê³µì œ í˜œíƒì„ í™œìš©í•œ ë§¤ë§¤ ì „ëµì˜ ìˆ˜ìµì„ ê³„ì‚°í•©ë‹ˆë‹¤.</p>
    </section>
    <section class="feature-section">
      <div class="compound-card" style="max-width:480px;margin:0 auto;">
        <form id="deductionForm" autocomplete="off">
          <div class="form-group">
            <label for="totalExpectedProfit">ì˜ˆìƒ ì´ ìˆ˜ìµê¸ˆì•¡(ì›í™”)</label>
            <input type="text" id="totalExpectedProfit" name="totalExpectedProfit" inputmode="numeric" pattern="[0-9,]*" placeholder="50,000,000" required autocomplete="off">
          </div>
          <div class="form-group">
            <label for="deductionYears">ê³µì œ í˜œíƒì„ ë°›ì„ ì—°ìˆ˜</label>
            <input type="number" id="deductionYears" name="deductionYears" min="1" max="20" step="1" placeholder="5" required>
          </div>
          <button type="submit" class="btn">ê³„ì‚°í•˜ê¸°</button>
        </form>
      </div>
      <div id="resultSection" class="compound-result" style="display:none;max-width:600px;margin:0 auto;">
        <div id="resultSummaryCard" style="background:linear-gradient(90deg,#e6f4ea 60%,#f7f8fa 100%);border-radius:12px;padding:18px 14px 14px 14px;margin-bottom:18px;box-shadow:0 2px 8px rgba(143,183,164,0.10);text-align:center;"></div>
        <h2>ê³„ì‚° ê²°ê³¼</h2>
        
        <!-- ì „ëµë³„ ë¹„êµ -->
        <div class="strategy-comparison">
          <div class="strategy-card">
            <h3>ì—°ê°„ ê³µì œ ì „ëµ</h3>
            <div id="annualStrategyResults"></div>
          </div>
          <div class="strategy-card">
            <h3>ê³µì œ ì—†ì´ ë§¤ë„ ì „ëµ</h3>
            <div id="finalStrategyResults"></div>
          </div>
        </div>
        
        <!-- ì—°ë„ë³„ ìƒì„¸ ë‚´ì—­ -->
        <div class="yearly-details">
          <h3>ì—°ë„ë³„ ìƒì„¸ ë‚´ì—­</h3>
          <table class="result-table" id="yearlyTable">
            <thead>
              <tr><th>ì—°ë„</th><th>ì—°ê°„ ê³µì œ ì „ëµ</th><th>ê³µì œ ì—†ì´ ë§¤ë„ ì „ëµ</th><th>ì°¨ì´</th></tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- ì‚¬ìš© ë°©ë²• ì•ˆë‚´ -->
    <section class="feature-section" style="max-width:480px;margin:32px auto 0 auto;">
      <div style="background:#f1f5f9;border-radius:10px;padding:18px 14px 12px 14px;color:#374151;font-size:0.98rem;line-height:1.7;box-shadow:0 1px 6px rgba(143,183,164,0.06);">
        <strong>ì‚¬ìš© ë°©ë²• ì•ˆë‚´</strong><br>
        <ul style="margin:10px 0 0 18px;padding:0;">
          <li><b>ì˜ˆìƒ ì´ ìˆ˜ìµê¸ˆì•¡</b>: ìµœì¢…ì ìœ¼ë¡œ ê¸°ëŒ€í•˜ëŠ” ì´ ìˆ˜ìµê¸ˆì•¡ì„ ì›í™”ë¡œ ì…ë ¥í•©ë‹ˆë‹¤.</li>
          <li><b>ê³µì œ í˜œíƒì„ ë°›ì„ ì—°ìˆ˜</b>: ëª‡ ë…„ ë™ì•ˆ ì—°ê°„ ê³µì œ í˜œíƒì„ ë°›ì„ì§€ ì…ë ¥í•©ë‹ˆë‹¤.</li>
          <li>ëª¨ë“  ê°’ì„ ì…ë ¥í•œ í›„ <b>ê³„ì‚°í•˜ê¸°</b> ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ê²°ê³¼ê°€ ì•„ë˜ì— í‘œì‹œë©ë‹ˆë‹¤.</li>
        </ul>
        <div style="margin-top:10px;color:#b91c1c;font-size:0.97rem;"><b>â€» ê³„ì‚° ë°©ì‹</b><br>
          <span style="color:#374151;">
            <b>ì—°ê°„ ê³µì œ ì „ëµ</b>: ë§¤ë…„ 250ë§Œì›ì”© ê³µì œë°›ì•„ ì´ ê³µì œì•¡ì„ ë¹¼ê³  ì„¸ê¸ˆ ê³„ì‚°<br>
            <b>ê³µì œ ì—†ì´ ë§¤ë„ ì „ëµ</b>: ì—°ê°„ ê³µì œì•¡ 250ë§Œì›ë§Œ ë¹¼ê³  ì„¸ê¸ˆ ê³„ì‚°<br>
            <b>ê³µì œ í˜œíƒ</b>: ì—°ê°„ 250ë§Œì›ê¹Œì§€ ì–‘ë„ì„¸ ë©´ì œ (22% ì„¸ìœ¨ ì ìš©)
          </span>
        </div>
        <div style="margin-top:8px;color:#5a7d6c;font-size:0.97rem;">â€» ê³„ì‚° ê²°ê³¼ëŠ” ì°¸ê³ ìš©ì´ë©°, ì‹¤ì œ íˆ¬ì ì „ ì „ë¬¸ê°€ ìƒë‹´ì„ ê¶Œì¥í•©ë‹ˆë‹¤.</div>
      </div>
    </section>
  </main>
  <footer class="footer">
    <div style="margin-bottom:6px;">
        <a href="terms.html" style="color:#000;text-decoration:none;">ì„œë¹„ìŠ¤ ì´ìš©ì•½ê´€</a>
    </div>
    <div class="footer-copy">Â©2025 ì‹¤ìƒí™œ ë„ì›€zip. All rights reserved.</div>
  </footer>
  <script>
    // ì…ë ¥ê°’ì— ì²œ ë‹¨ìœ„ ì½¤ë§ˆ ìë™ ì ìš©
    function addComma(n) {
      n = n.replace(/[^\d]/g, '');
      return n ? parseInt(n, 10).toLocaleString('ko-KR') : '';
    }
    function removeComma(n) {
      return n.replace(/,/g, '');
    }
    document.getElementById('totalExpectedProfit').addEventListener('input', function(e) {
      const val = removeComma(e.target.value);
      e.target.value = addComma(val);
    });

    document.getElementById('deductionForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const totalExpectedProfit = parseFloat(removeComma(document.getElementById('totalExpectedProfit').value));
      const deductionYears = parseInt(document.getElementById('deductionYears').value, 10);
      
      if (isNaN(totalExpectedProfit) || isNaN(deductionYears) || 
          totalExpectedProfit <= 0 || deductionYears <= 0) {
        alert('ëª¨ë“  ê°’ì„ ì˜¬ë°”ë¥´ê²Œ ì…ë ¥í•´ì£¼ì„¸ìš”.');
        return;
      }

      // ì˜¬ë°”ë¥¸ ê³„ì‚° ë¡œì§
      const annualDeduction = 2500000; // ì—°ê°„ ê³µì œì•¡ 250ë§Œì›
      const taxRate = 0.22; // ì–‘ë„ì„¸ 20% + ì§€ë°©ì„¸ 2%
      
      // ì—°ê°„ ê³µì œ ì „ëµ ê³„ì‚°
      // ì´ ìˆ˜ìµì—ì„œ ì—°ê°„ ê³µì œì•¡ì„ ë°›ì€ ì—°ìˆ˜ë§Œí¼ ë¹¼ê³  ë‚˜ë¨¸ì§€ì— ì„¸ê¸ˆ ì ìš©
      const totalDeductionAmount = annualDeduction * deductionYears; // ì´ ê³µì œë°›ì„ ê¸ˆì•¡
      const annualStrategyTaxableIncome = Math.max(0, totalExpectedProfit - totalDeductionAmount);
      const annualStrategyTax = annualStrategyTaxableIncome * taxRate;
      const annualStrategyNet = totalExpectedProfit - annualStrategyTax;
      
      // ê³µì œ ì—†ì´ ë§¤ë„ ì „ëµ ê³„ì‚°
      // ì´ ìˆ˜ìµì—ì„œ ì—°ê°„ ê³µì œì•¡ 1íšŒë¶„ë§Œ ë¹¼ê³  ë‚˜ë¨¸ì§€ì— ì„¸ê¸ˆ ì ìš©
      const noDeductionStrategyTaxableIncome = Math.max(0, totalExpectedProfit - annualDeduction);
      const noDeductionStrategyTax = noDeductionStrategyTaxableIncome * taxRate;
      const noDeductionStrategyNet = totalExpectedProfit - noDeductionStrategyTax;

      // ê²°ê³¼ í‘œì‹œ
      const annualStrategyResults = `
        <div class="result-item">
          <div class="result-label">ì´ ìˆ˜ìµê¸ˆì•¡</div>
          <div class="result-value">${totalExpectedProfit.toLocaleString('ko-KR')}ì›</div>
        </div>
        <div class="result-item">
          <div class="result-label">ê³µì œë°›ì€ ê¸ˆì•¡</div>
          <div class="result-value positive">${totalDeductionAmount.toLocaleString('ko-KR')}ì›</div>
        </div>
        <div class="result-item">
          <div class="result-label">ê³¼ì„¸ì†Œë“</div>
          <div class="result-value">${annualStrategyTaxableIncome.toLocaleString('ko-KR')}ì›</div>
        </div>
        <div class="result-item">
          <div class="result-label">ì–‘ë„ì†Œë“ì„¸</div>
          <div class="result-value">${annualStrategyTax.toLocaleString('ko-KR')}ì›</div>
        </div>
        <div class="result-item">
          <div class="result-label">ì„¸í›„ ìˆ˜ìµ</div>
          <div class="result-value positive">${annualStrategyNet.toLocaleString('ko-KR')}ì›</div>
        </div>
      `;
      
      const noDeductionStrategyResults = `
        <div class="result-item">
          <div class="result-label">ì´ ìˆ˜ìµê¸ˆì•¡</div>
          <div class="result-value">${totalExpectedProfit.toLocaleString('ko-KR')}ì›</div>
        </div>
        <div class="result-item">
          <div class="result-label">ê³µì œë°›ì€ ê¸ˆì•¡</div>
          <div class="result-value positive">${annualDeduction.toLocaleString('ko-KR')}ì›</div>
        </div>
        <div class="result-item">
          <div class="result-label">ê³¼ì„¸ì†Œë“</div>
          <div class="result-value">${noDeductionStrategyTaxableIncome.toLocaleString('ko-KR')}ì›</div>
        </div>
        <div class="result-item">
          <div class="result-label">ì–‘ë„ì†Œë“ì„¸</div>
          <div class="result-value">${noDeductionStrategyTax.toLocaleString('ko-KR')}ì›</div>
        </div>
        <div class="result-item">
          <div class="result-label">ì„¸í›„ ìˆ˜ìµ</div>
          <div class="result-value">${noDeductionStrategyNet.toLocaleString('ko-KR')}ì›</div>
        </div>
      `;
      
      document.getElementById('annualStrategyResults').innerHTML = annualStrategyResults;
      document.getElementById('finalStrategyResults').innerHTML = noDeductionStrategyResults;
      
      // ì—°ë„ë³„ ìƒì„¸ ë‚´ì—­ í…Œì´ë¸” ìƒì„±
      const tbody = document.querySelector('#yearlyTable tbody');
      tbody.innerHTML = '';
      
      // ì—°ë„ë³„ ìƒì„¸ ë‚´ì—­ (ì—°ê°„ ê³µì œ ì „ëµì˜ ê²½ìš° ì—°ë„ë³„ë¡œ ê³µì œë°›ëŠ” ê³¼ì • í‘œì‹œ)
      for (let year = 1; year <= deductionYears; year++) {
        const cumulativeDeduction = annualDeduction * year;
        const remainingProfit = Math.max(0, totalExpectedProfit - cumulativeDeduction);
        const taxableIncome = Math.max(0, totalExpectedProfit - cumulativeDeduction);
        const tax = taxableIncome * taxRate;
        const netProfit = totalExpectedProfit - tax;
        
        const row = tbody.insertRow();
        row.innerHTML = `
          <td>${year}ë…„ì°¨</td>
          <td>ê³µì œ: ${cumulativeDeduction.toLocaleString('ko-KR')}ì›<br>ì„¸í›„: ${netProfit.toLocaleString('ko-KR')}ì›</td>
          <td>ê³µì œ: ${annualDeduction.toLocaleString('ko-KR')}ì›<br>ì„¸í›„: ${noDeductionStrategyNet.toLocaleString('ko-KR')}ì›</td>
          <td style="color:${netProfit >= noDeductionStrategyNet ? '#198754' : '#dc3545'}">${netProfit >= noDeductionStrategyNet ? '+' : ''}${(netProfit - noDeductionStrategyNet).toLocaleString('ko-KR')}ì›</td>
        `;
      }
      
      // ìš”ì•½ ì¹´ë“œ í‘œì‹œ - ì„¸ê¸ˆ ì°¨ì´ì™€ ì´ ìˆ˜ìµ ì°¨ì´ í‘œì‹œ
      const taxDifference = noDeductionStrategyTax - annualStrategyTax;
      
      const summary = `
        <div class="summary-block">
          <div class="summary-label">ì—°ê°„ ê³µì œ ì „ëµ ì„¸í›„ ìˆ˜ìµ</div>
          <div class="summary-value positive">${annualStrategyNet.toLocaleString('ko-KR')}ì›</div>
        </div>
        <div class="summary-block">
          <div class="summary-label">ê³µì œ ì—†ì´ ë§¤ë„ ì „ëµ ì„¸í›„ ìˆ˜ìµ</div>
          <div class="summary-value">${noDeductionStrategyNet.toLocaleString('ko-KR')}ì›</div>
        </div>
        <div class="summary-block">
          <div class="summary-title">ê³µì œ í˜œíƒìœ¼ë¡œ ì ˆì•½í•œ ì„¸ê¸ˆ</div>
          <div class="summary-value positive">${taxDifference.toLocaleString('ko-KR')}ì›</div>
        </div>
      `;
      document.getElementById('resultSummaryCard').innerHTML = summary;
      document.getElementById('resultSection').style.display = 'block';
    });
  </script>
  
  <style>
    .strategy-comparison {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin-bottom: 30px;
    }
    
    .strategy-card {
      background: #f8f9fa;
      border: 1.5px solid #e5f3e5;
      border-radius: 12px;
      padding: 20px;
    }
    
    .strategy-card h3 {
      color: #2d3a4b;
      font-size: 1.2rem;
      font-weight: 600;
      margin: 0 0 16px 0;
      text-align: center;
    }
    
    .result-item {
      display: flex;
      justify-content: space-between;
      margin-bottom: 12px;
      padding: 8px 0;
      border-bottom: 1px solid #e5f3e5;
    }
    
    .result-item:last-child {
      border-bottom: none;
      margin-bottom: 0;
    }
    
    .result-label {
      color: #6b7280;
      font-size: 0.9rem;
    }
    
    .result-value {
      color: #2d3a4b;
      font-weight: 600;
      font-size: 0.9rem;
    }
    
    .result-value.positive {
      color: #198754;
    }
    
    .result-value.negative {
      color: #dc3545;
    }
    
    .yearly-details {
      margin-top: 30px;
    }
    
    .yearly-details h3 {
      color: #2d3a4b;
      font-size: 1.1rem;
      font-weight: 600;
      margin: 0 0 16px 0;
    }
    
    @media (max-width: 768px) {
      .strategy-comparison {
        grid-template-columns: 1fr;
        gap: 16px;
      }
      
      .strategy-card {
        padding: 16px;
      }
    }
  </style>
</body>
</html>
