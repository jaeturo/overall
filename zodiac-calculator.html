<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>띠 계산기 | 실생활 모음zip</title>
  <meta name="description" content="출생년도에 따른 띠를 계산하는 실생활 모음zip 띠 계산기입니다.">
  <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
  <header class="header">
    <nav class="navbar">
      <div class="logo">실생활 도움zip</div>
      <div class="hamburger" id="hamburger">
        <span></span>
        <span></span>
        <span></span>
      </div>
      <ul class="nav-menu" id="navMenu">
        <li class="nav-item nav-home"><a href="index.html">홈</a></li>
        <li class="nav-item dropdown" id="stockDropdownZodiac">
          <button type="button" class="dropbtn" id="dropdownBtnZodiac">📈 투자 계산기</button>
          <ul class="dropdown-content" id="dropdownMenuZodiac">
            <li><a href="compound.html">복리 계산기</a></li>
            <li><a href="dividend.html">배당률 계산기</a></li>
            <li><a href="profit.html">주식 수익률 계산기</a></li>
            <li><a href="averaging.html">물타기 계산기</a></li>
            <li><a href="multi-average.html">여러 종목 평단가 계산기</a></li>
            <li><a href="us-tax-calculator.html">미국주식 양도세 계산기</a></li>
            <li><a href="us-deduction-calculator.html">미국주식 공제 혜택 계산기</a></li>
          </ul>
        </li>
        <li class="nav-item dropdown" id="ageDropdownZodiac">
          <button type="button" class="dropbtn" id="ageDropdownBtnZodiac">🎂 나이 계산기</button>
          <ul class="dropdown-content" id="ageDropdownMenuZodiac">
            <li><a href="age-calculator.html">나이 계산기</a></li>
            <li><a href="zodiac-calculator.html">띠 계산기</a></li>
          </ul>
        </li>
      </ul>
    </nav>
  <script>
    // 드롭다운 클릭 토글 (띠와 12간지 계산기 전용)
    document.addEventListener('DOMContentLoaded', function() {
      var btn = document.getElementById('dropdownBtnZodiac');
      var menu = document.getElementById('dropdownMenuZodiac');
      var dropdown = document.getElementById('stockDropdownZodiac');
      
      var ageBtn = document.getElementById('ageDropdownBtnZodiac');
      var ageMenu = document.getElementById('ageDropdownMenuZodiac');
      var ageDropdown = document.getElementById('ageDropdownZodiac');
      
      // 드롭다운 메뉴 위치 조정 함수
      function adjustDropdownPosition(btn, menu, dropdown) {
        if (menu.classList.contains('show')) {
          const dropdownRect = dropdown.getBoundingClientRect();
          const menuWidth = 220; // min-width 값
          const viewportWidth = window.innerWidth;
          
          // 기존 위치 클래스 제거
          menu.classList.remove('right-aligned', 'center-aligned');
          
          // 오른쪽에서 잘릴 경우
          if (dropdownRect.left + menuWidth > viewportWidth) {
            // 왼쪽에서도 잘릴 경우 중앙 정렬
            if (dropdownRect.left - menuWidth < 0) {
              menu.classList.add('center-aligned');
            } else {
              // 오른쪽 정렬
              menu.classList.add('right-aligned');
            }
          }
        }
      }
      
      btn.addEventListener('click', function(e) {
        e.stopPropagation();
        menu.classList.toggle('show');
        ageMenu.classList.remove('show');
        
        // 메뉴가 열릴 때 위치 조정
        if (menu.classList.contains('show')) {
          setTimeout(() => adjustDropdownPosition(btn, menu, dropdown), 10);
        }
      });
      
      ageBtn.addEventListener('click', function(e) {
        e.stopPropagation();
        ageMenu.classList.toggle('show');
        menu.classList.remove('show');
        
        // 메뉴가 열릴 때 위치 조정
        if (ageMenu.classList.contains('show')) {
          setTimeout(() => adjustDropdownPosition(ageBtn, ageMenu, ageDropdown), 10);
        }
      });
      
      // 창 크기 변경 시 위치 재조정
      window.addEventListener('resize', function() {
        if (menu.classList.contains('show')) {
          adjustDropdownPosition(btn, menu, dropdown);
        }
        if (ageMenu.classList.contains('show')) {
          adjustDropdownPosition(ageBtn, ageMenu, ageDropdown);
        }
      });
      
      document.addEventListener('click', function(e) {
        if (!dropdown.contains(e.target)) {
          menu.classList.remove('show');
        }
        if (!ageDropdown.contains(e.target)) {
          ageMenu.classList.remove('show');
        }
      });
    });

    // 모바일 햄버거 메뉴 토글
    document.addEventListener('DOMContentLoaded', function() {
      const hamburger = document.getElementById('hamburger');
      const navMenu = document.getElementById('navMenu');
      
      hamburger.addEventListener('click', function() {
        hamburger.classList.toggle('active');
        navMenu.classList.toggle('active');
      });
      
      // 메뉴 링크 클릭 시 메뉴 닫기
      const navLinks = navMenu.querySelectorAll('a');
      navLinks.forEach(link => {
        link.addEventListener('click', function() {
          hamburger.classList.remove('active');
          navMenu.classList.remove('active');
        });
      });
    });
  </script>
  </header>
  <main class="main-content">
    <section class="intro-section">
      <h1>띠 계산기</h1>
      <p>출생년도에 따른 띠를 계산하여 한국 전통 정보를 확인할 수 있습니다.</p>
    </section>
    <section class="feature-section">
      <div class="compound-card" style="max-width:480px;margin:0 auto;">
        <form id="zodiacForm" autocomplete="off">
          <div class="form-group">
            <label for="birthYear">출생 연도</label>
            <select id="birthYear" name="birthYear" required>
              <option value="">연도 선택</option>
            </select>
          </div>
          <button type="submit" class="btn">띠 계산하기</button>
        </form>
      </div>
      <div id="resultSection" class="compound-result" style="display:none;max-width:600px;margin:0 auto;">
        <div id="resultSummaryCard" style="background:linear-gradient(90deg,#e6f4ea 60%,#f7f8fa 100%);border-radius:12px;padding:18px 14px 14px 14px;margin-bottom:18px;box-shadow:0 2px 8px rgba(143,183,164,0.10);text-align:center;"></div>
        <h2>띠 계산 결과</h2>
        
        <!-- 띠 결과 -->
        <div class="zodiac-comparison">
          <div class="zodiac-card">
            <h3>띠</h3>
            <div id="zodiacResults"></div>
          </div>
        </div>
        
        <!-- 상세 정보 -->
        <div class="zodiac-details">
          <h3>상세 정보</h3>
          <table class="result-table" id="zodiacDetailsTable">
            <thead>
              <tr><th>구분</th><th>내용</th></tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
        
        <!-- 띠별 특성 -->
        <div class="zodiac-traits">
          <h3>띠별 특성</h3>
          <div id="zodiacTraits"></div>
        </div>
      </div>
    </section>

    <!-- 사용 방법 안내 -->
    <section class="feature-section" style="max-width:600px;margin:32px auto 0 auto;">
      <div style="background:#f1f5f9;border-radius:10px;padding:18px 14px 12px 14px;color:#374151;font-size:0.98rem;line-height:1.7;box-shadow:0 1px 6px rgba(143,183,164,0.06);">
        <strong>사용 방법 안내</strong><br>
        <ul style="margin:10px 0 0 18px;padding:0;">
          <li><b>출생 연도</b>: 정확한 출생 연도를 선택합니다.</li>
          <li>연도를 선택한 후 <b>띠 계산하기</b> 버튼을 누르면 결과가 아래에 표시됩니다.</li>
        </ul>
        <div style="margin-top:10px;color:#b91c1c;font-size:0.97rem;"><b>※ 띠 계산법</b><br>
          <span style="color:#374151;">
            <b>띠</b>: 출생년도를 12로 나눈 나머지에 따라 결정 (쥐, 소, 호랑이, 토끼, 용, 뱀, 말, 양, 원숭이, 닭, 개, 돼지)
          </span>
        </div>
        <div style="margin-top:8px;color:#5a7d6c;font-size:0.97rem;">※ 띠는 한국 전통 문화의 일부로, 재미와 참고용으로 활용하시기 바랍니다.</div>
      </div>
    </section>
  </main>
  <footer class="footer">
    <div style="margin-bottom:6px;">
        <a href="terms.html" style="color:#000;text-decoration:none;">서비스 이용약관</a>
    </div>
    <div class="footer-copy">©2025 실생활 도움zip. All rights reserved.</div>
  </footer>
  <script>
    // 페이지 로드 시 초기화
    document.addEventListener('DOMContentLoaded', function() {
      // 연도 옵션 생성 (1900년 ~ 현재년도)
      const currentYear = new Date().getFullYear();
      const yearSelect = document.getElementById('birthYear');
      for (let year = currentYear; year >= 1900; year--) {
        const option = document.createElement('option');
        option.value = year;
        option.textContent = year + '년';
        yearSelect.appendChild(option);
      }
    });

    document.getElementById('zodiacForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      const birthYear = parseInt(document.getElementById('birthYear').value);
      
      if (isNaN(birthYear) || birthYear < 1900 || birthYear > new Date().getFullYear()) {
        alert('올바른 출생 연도를 선택해주세요.');
        return;
      }

      // 띠 계산
      const zodiacSign = getZodiacSign(birthYear);
      
      // 결과 표시
      const zodiacResults = `
        <div class="zodiac-result-item">
          <div class="zodiac-result-label">띠</div>
          <div class="zodiac-result-value">${zodiacSign}</div>
        </div>
        <div class="zodiac-result-item">
          <div class="zodiac-result-label">출생년도</div>
          <div class="zodiac-result-value">${birthYear}년</div>
        </div>
      `;
      
      document.getElementById('zodiacResults').innerHTML = zodiacResults;
      
      // 상세 정보 테이블 생성
      const tbody = document.querySelector('#zodiacDetailsTable tbody');
      tbody.innerHTML = '';
      
      const details = [
        ['출생년도', `${birthYear}년`],
        ['띠', zodiacSign],
        ['띠 순서', `${(birthYear % 12) + 1}번째`]
      ];
      
      details.forEach(detail => {
        const row = tbody.insertRow();
        row.innerHTML = `<td>${detail[0]}</td><td>${detail[1]}</td>`;
      });
      
      // 띠별 특성 표시
      const traits = getZodiacTraits(zodiacSign);
      const traitsHtml = `
        <div class="trait-item">
          <h4>${zodiacSign}띠 특성</h4>
          <p>${traits}</p>
        </div>
      `;
      document.getElementById('zodiacTraits').innerHTML = traitsHtml;
      
      // 요약 카드 표시
      const summary = `
        <div class="summary-block">
          <div class="summary-title">띠</div>
          <div class="summary-value">${zodiacSign}</div>
        </div>
        <div class="summary-block">
          <div class="summary-label">출생년도</div>
          <div class="summary-value">${birthYear}년</div>
        </div>
      `;
      document.getElementById('resultSummaryCard').innerHTML = summary;
      document.getElementById('resultSection').style.display = 'block';
    });
    
    // 띠 계산 (올바른 순서: 자(쥐)→축(소)→인(호랑이)→묘(토끼)→진(용)→사(뱀)→오(말)→미(양)→신(원숭이)→유(닭)→술(개)→해(돼지))
    function getZodiacSign(year) {
      const zodiacs = ['쥐', '닭', '개', '돼지', '쥐', '소', '호랑이', '토끼', '용', '뱀', '말', '양'];
      return zodiacs[year % 12];
    }
    
    // 띠별 특성
    function getZodiacTraits(zodiac) {
      const traits = {
        '원숭이': '똑똑하고 재치가 있으며, 호기심이 많고 적응력이 뛰어납니다.',
        '닭': '정확하고 체계적이며, 시간을 잘 지키고 책임감이 강합니다.',
        '개': '충성스럽고 정직하며, 정의감이 강하고 친구를 소중히 여깁니다.',
        '돼지': '순수하고 관대하며, 인내심이 강하고 다른 사람을 잘 도와줍니다.',
        '쥐': '영리하고 민첩하며, 기회를 잘 포착하고 경제적 감각이 뛰어납니다.',
        '소': '성실하고 끈기있으며, 안정적이고 신뢰할 수 있는 성격입니다.',
        '호랑이': '용감하고 자신감이 있으며, 리더십이 강하고 도전정신이 뛰어납니다.',
        '토끼': '온화하고 예의바르며, 예술적 감각이 뛰어나고 평화를 좋아합니다.',
        '용': '강력하고 영감이 있으며, 창의적이고 야심이 큰 성격입니다.',
        '뱀': '지혜롭고 신비로우며, 직관력이 뛰어나고 깊이 있는 사고를 합니다.',
        '말': '활발하고 자유로우며, 에너지가 넘치고 모험을 좋아합니다.',
        '양': '온순하고 예술적이며, 창의적이고 감성적인 성격입니다.'
      };
      return traits[zodiac] || '특성 정보를 찾을 수 없습니다.';
    }
  </script>
  
  <style>
    .zodiac-comparison {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin-bottom: 30px;
    }
    
    .zodiac-card {
      background: #f8f9fa;
      border: 1.5px solid #e5f3e5;
      border-radius: 12px;
      padding: 20px;
      text-align: center;
    }
    
    .zodiac-card h3 {
      color: #2d3a4b;
      font-size: 1.1rem;
      font-weight: 600;
      margin: 0 0 16px 0;
    }
    
    .zodiac-result-item {
      margin-bottom: 12px;
      padding: 8px 0;
      border-bottom: 1px solid #e5f3e5;
    }
    
    .zodiac-result-item:last-child {
      border-bottom: none;
      margin-bottom: 0;
    }
    
    .zodiac-result-label {
      color: #6b7280;
      font-size: 0.9rem;
      margin-bottom: 4px;
    }
    
    .zodiac-result-value {
      color: #2d3a4b;
      font-weight: 600;
      font-size: 1.1rem;
    }
    
    .zodiac-details {
      margin-top: 30px;
    }
    
    .zodiac-details h3 {
      color: #2d3a4b;
      font-size: 1.1rem;
      font-weight: 600;
      margin: 0 0 16px 0;
    }
    
    .zodiac-traits {
      margin-top: 30px;
    }
    
    .zodiac-traits h3 {
      color: #2d3a4b;
      font-size: 1.1rem;
      font-weight: 600;
      margin: 0 0 16px 0;
    }
    
    .trait-item {
      background: #f8f9fa;
      border: 1.5px solid #e5f3e5;
      border-radius: 12px;
      padding: 20px;
    }
    
    .trait-item h4 {
      color: #2d3a4b;
      font-size: 1rem;
      font-weight: 600;
      margin: 0 0 12px 0;
    }
    
    .trait-item p {
      color: #6b7280;
      font-size: 0.95rem;
      line-height: 1.6;
      margin: 0;
    }
    
    @media (max-width: 768px) {
      .zodiac-comparison {
        grid-template-columns: 1fr;
        gap: 16px;
      }
      
      .zodiac-card {
        padding: 16px;
      }
    }
  </style>
</body>
</html>
