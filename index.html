<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta property="og:url" content="https://toolzip.netlify.app/">
  <link rel="canonical" href="https://toolzip.netlify.app/">
  <title>계산기 모음zip - 메인</title>
  <meta name="description" content="계산기 모음zip - 실생활에 도움되는 다양한 계산기와 검사기 기능을 한 곳에 모은 사이트입니다.">
  <link rel="stylesheet" href="assets/css/style.css">
  <!-- SEO -->
  <meta name="title" content="계산기 모음zip - 메인">
  <meta name="keywords" content="계산기, 복리 계산기, 배당률, 수익률, 물타기, 평단가, 나이 계산기, 띠 계산기, 도구 모음">
  <meta name="author" content="계산기 모음zip">
  <meta name="robots" content="index, follow">

  <!-- Open Graph -->
  <meta property="og:title" content="계산기 모음zip - 메인">
  <meta property="og:description" content="계산기 모음zip - 실생활에 도움되는 다양한 계산기와 검사기 기능을 한 곳에 모은 사이트입니다.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://toolzip.netlify.app/index.html">
  <meta property="og:image" content="https://toolzip.netlify.app/apple-touch-icon.png">
  <meta property="og:image:alt" content="계산기 모음zip">
  <meta property="og:site_name" content="계산기 모음zip">
  <meta property="og:locale" content="ko_KR">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="계산기 모음zip - 메인">
  <meta name="twitter:description" content="계산기 모음zip - 실생활에 도움되는 다양한 계산기와 검사기 기능을 한 곳에 모은 사이트입니다.">
  <meta name="twitter:image" content="https://toolzip.netlify.app/apple-touch-icon.png">

  <!-- UX/SEO exFtras -->
  <meta name="language" content="ko">
  <meta name="distribution" content="global">
  <meta name="rating" content="general">
  <meta name="format-detection" content="telephone=no">
  <link rel="canonical" href="https://toolzip.netlify.app/index.html">
  <meta name="google-site-verification" content="_C8bm90OD05exvag-QZWkOA-amh0ZPwf-Z7hYkWUe-w">
  <meta name="msvalidate.01" content="8F447B4B3698F7695A7AD4637D6271D8">
  <meta name="naver-site-verification" content="609fe238310a3be61d608b20f341d43dfa668496">

  <!-- PWA/browser -->
  <meta name="theme-color" content="#ffffff">
  <meta name="application-name" content="계산기 모음zip">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-title" content="계산기 모음zip">

  <!-- Icons -->
  <link rel="icon" href="/favicon.ico" type="image/x-icon">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  <link rel="manifest" href="/site.webmanifest">
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-K42GDRNW');</script>
  <!-- End Google Tag Manager -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2839621694619517"
     crossorigin="anonymous"></script>
</head>
<body>
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-K42GDRNW"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
  <header class="header">
    <div class="logo-section">
      <a href="index.html" class="logo">계산기 모음zip</a>
      <p>실생활에 꼭 필요한 계산기와 도구들을 한 곳에</p>
    </div>
    <nav class="navbar">
      <div class="hamburger" id="hamburger">
        <span></span>
        <span></span>
        <span></span>
      </div>
      <ul class="nav-menu" id="navMenu">
        <li class="nav-item nav-home"><a href="index.html">🏠 홈</a></li>
        <li class="nav-item dropdown" id="stockDropdown">
          <button type="button" class="dropbtn" id="dropdownBtn">📈 투자 계산기</button>
          <ul class="dropdown-content" id="dropdownMenu">
            <li><a href="compound.html">복리 계산기</a></li>
            <li><a href="dividend.html">배당률 계산기</a></li>
            <li><a href="profit.html">주가 수익률 계산기</a></li>
            <li><a href="bond-yield.html">채권 수익률 계산기</a></li>
            <li><a href="averaging.html">물타기 계산기</a></li>
            <li><a href="multi-average.html">여러 종목 평단가 계산기</a></li>
          </ul>
        </li>
        <li class="nav-item dropdown" id="laborDropdown">
          <button type="button" class="dropbtn" id="laborDropdownBtn">💼 근로 계산기</button>
          <ul class="dropdown-content" id="laborDropdownMenu">
            <li><a href="kr-salary-calculator.html">연봉 실수령액 계산기</a></li>
            <li><a href="freelancer-tax-calculator.html">프리랜서 3.3% 계산기</a></li>
          </ul>
        </li>
        <li class="nav-item dropdown" id="loanDropdown">
          <button type="button" class="dropbtn" id="loanDropdownBtn">🏦 대출 계산기</button>
          <ul class="dropdown-content" id="loanDropdownMenu">
            <li><a href="loan-calculator.html">원리금·원금 균등상환 계산기</a></li>
          </ul>
        </li>
        <li class="nav-item dropdown" id="taxDropdown">
          <button type="button" class="dropbtn" id="taxDropdownBtn">💸 세금 계산기</button>
          <ul class="dropdown-content" id="taxDropdownMenu">
            <li><a href="us-tax-calculator.html">미국주식 양도세 계산기</a></li>
            <li><a href="us-deduction-calculator.html">미국주식 공제 혜택 계산기</a></li>
          </ul>
        </li>
        <li class="nav-item dropdown" id="realEstateDropdown">
          <button type="button" class="dropbtn" id="realEstateDropdownBtn">🏠 부동산 계산기</button>
          <ul class="dropdown-content" id="realEstateDropdownMenu">
            <li><a href="jeonse-to-wolse.html">전월세 전환 계산기</a></li>
            <li><a href="real-estate-tax-calculator.html">부동산 양도세 계산기</a></li>
            <li><a href="real-estate-acquisition-tax-calculator.html">부동산 취득세 계산기</a></li>
          </ul>
        </li>
        <li class="nav-item dropdown" id="dateDropdown">
          <button type="button" class="dropbtn" id="dateDropdownBtn">📅 날짜 계산기</button>
          <ul class="dropdown-content" id="dateDropdownMenu">
            <li><a href="lunar-solar-converter.html">음력·양력 계산기</a></li>
          </ul>
        </li>
        <li class="nav-item dropdown" id="healthDropdown">
          <button type="button" class="dropbtn" id="healthDropdownBtn">💪 건강 계산기</button>
          <ul class="dropdown-content" id="healthDropdownMenu">
            <li><a href="bmi-calculator.html">BMI 계산기</a></li>
            <li><a href="bmr-calculator.html">기초 대사량 계산기</a></li>
          </ul>
        </li>
        <li class="nav-item dropdown" id="ageDropdown">
          <button type="button" class="dropbtn" id="ageDropdownBtn">🎂 나이 계산기</button>
          <ul class="dropdown-content" id="ageDropdownMenu">
            <li><a href="age-calculator.html">나이 계산기</a></li>
            <li><a href="zodiac-calculator.html">띠 계산기</a></li>
          </ul>
        </li>
        <!-- 기능별 메뉴는 추후 추가 -->
      </ul>
    </nav>
  <script src="assets/js/main.js"></script>
  </header>
  <main class="main-content">
    <section class="intro-section">
      <h1>계산기 모음zip</h1>
      <p class="intro-copy">투자/재테크/실생활에 꼭 필요한 다양한 도구를 한 곳에 모았습니다. <span class="intro-copy__break">누구나 쉽고 빠르게 사용할 수 있는 실용적인 기능들을 경험해보세요.</span></p>
    </section>
    <div class="ad-banner ad-banner--inline">
      <ins class="kakao_ad_area" style="display:none;"
      data-ad-unit = "DAN-fousInY12EGeI3vh"
      data-ad-width = "300"
      data-ad-height = "250"></ins>
      <script type="text/javascript" src="//t1.daumcdn.net/kas/static/ba.min.js" async></script>
    </div>
    <section class="feature-section">
      <h2>현재 이용 가능한 기능</h2>
      
      <!-- 투자 계산기 메인 메뉴 -->
      <div class="main-menu-card">
        <div class="main-menu-header">
          <div class="main-menu-icon">📈</div>
          <div class="main-menu-info">
            <h3>투자 계산기</h3>
            <p>주식 투자와 관련된 다양한 계산 도구들을 제공합니다.</p>
          </div>
        </div>
        
        <div class="sub-menu-grid">
          <div class="sub-menu-item">
            <div class="sub-menu-icon">📈</div>
            <div class="sub-menu-content">
              <h4>복리 계산기</h4>
              <p>원금, 이율, 기간을 입력하여 복리로 성장한 최종 금액을 계산합니다.</p>
              <a href="compound.html" class="sub-menu-btn">이용하기</a>
            </div>
          </div>
          
          <div class="sub-menu-item">
            <div class="sub-menu-icon">💰</div>
            <div class="sub-menu-content">
              <h4>배당률 계산기</h4>
              <p>주식의 배당금과 배당수익률을 간편하게 계산할 수 있습니다.</p>
              <a href="dividend.html" class="sub-menu-btn">이용하기</a>
            </div>
          </div>

          <div class="sub-menu-item">
            <div class="sub-menu-icon">📊</div>
            <div class="sub-menu-content">
              <h4>주가 수익률 계산기</h4>
              <p>매입가, 현재가, 수량을 입력하여 투자 수익률을 계산합니다.</p>
              <a href="profit.html" class="sub-menu-btn">이용하기</a>
            </div>
          </div>
          
          <div class="sub-menu-item">
            <div class="sub-menu-icon">📄</div>
            <div class="sub-menu-content">
              <h4>채권 수익률 계산기</h4>
              <p>매입가와 표면 금리를 입력해 현재 수익률과 만기 수익률(YTM)을 추정합니다.</p>
              <a href="bond-yield.html" class="sub-menu-btn">이용하기</a>
            </div>
          </div>
          
          <div class="sub-menu-item">
            <div class="sub-menu-icon">💧</div>
            <div class="sub-menu-content">
              <h4>물타기 계산기</h4>
              <p>목표 평균 단가를 설정하고 필요한 추가 매수 수량을 계산합니다.</p>
              <a href="averaging.html" class="sub-menu-btn">이용하기</a>
            </div>
          </div>
          
          <div class="sub-menu-item">
            <div class="sub-menu-icon">📊</div>
            <div class="sub-menu-content">
              <h4>여러 종목 평단가 계산기</h4>
              <p>여러 종목의 평균 단가를 한 번에 계산하여 전체 포트폴리오를 관리합니다.</p>
              <a href="multi-average.html" class="sub-menu-btn">이용하기</a>
            </div>
          </div>
        </div>
      </div>
      
      <!-- 근로 계산기 메인 메뉴 -->
      <div class="main-menu-card">
        <div class="main-menu-header">
          <div class="main-menu-icon">💼</div>
          <div class="main-menu-info">
            <h3>근로 계산기</h3>
            <p>연봉과 공제 항목을 기준으로 월 실수령액을 간편하게 계산합니다.</p>
          </div>
        </div>

        <div class="sub-menu-grid">
          <div class="sub-menu-item">
            <div class="sub-menu-icon">💵</div>
            <div class="sub-menu-content">
              <h4>연봉 실수령액 계산기</h4>
              <p>연봉, 비과세 식대, 세금 포함 여부를 입력해 월 실수령액을 확인합니다.</p>
              <a href="kr-salary-calculator.html" class="sub-menu-btn">이용하기</a>
            </div>
          </div>
          <div class="sub-menu-item">
            <div class="sub-menu-icon">💼</div>
            <div class="sub-menu-content">
              <h4>프리랜서 3.3% 계산기</h4>
              <p>계약 금액 또는 실수령액을 입력해 원천징수 3.3%와 순수입을 확인합니다.</p>
              <a href="freelancer-tax-calculator.html" class="sub-menu-btn">이용하기</a>
            </div>
          </div>
        </div>
      </div>
      
      <!-- 대출 계산기 메인 메뉴 -->
      <div class="main-menu-card">
        <div class="main-menu-header">
          <div class="main-menu-icon">🏦</div>
          <div class="main-menu-info">
            <h3>대출 계산기</h3>
            <p>대출 원금, 금리, 상환 기간을 입력하면 월 상환액을 계산합니다.</p>
          </div>
        </div>
        
        <div class="sub-menu-grid">
          <div class="sub-menu-item">
            <div class="sub-menu-icon">🏦</div>
            <div class="sub-menu-content">
              <h4>원리금·원금 균등상환 계산기</h4>
              <p>원리금균등상환과 원금균등상환 방식을 모두 지원합니다.</p>
              <a href="loan-calculator.html" class="sub-menu-btn">이용하기</a>
            </div>
          </div>
        </div>
      </div>
      
      <!-- 세금 계산기 메인 메뉴 -->
      <div class="main-menu-card">
        <div class="main-menu-header">
          <div class="main-menu-icon">💸</div>
          <div class="main-menu-info">
            <h3>세금 계산기</h3>
            <p>미국 주식 투자 시 발생하는 세금과 공제 혜택을 손쉽게 계산해 보세요.</p>
          </div>
        </div>
        
        <div class="sub-menu-grid">
          <div class="sub-menu-item">
            <div class="sub-menu-icon">💵</div>
            <div class="sub-menu-content">
              <h4>미국주식 양도세 계산기</h4>
              <p>미국주식 매매 시 발생하는 양도소득세와 증권거래세를 계산합니다.</p>
              <a href="us-tax-calculator.html" class="sub-menu-btn">이용하기</a>
            </div>
          </div>
          <div class="sub-menu-item">
            <div class="sub-menu-icon">🧾</div>
            <div class="sub-menu-content">
              <h4>미국주식 공제 혜택 계산기</h4>
              <p>연간 250만원 공제 혜택을 활용한 매매 전략의 수익을 계산합니다.</p>
              <a href="us-deduction-calculator.html" class="sub-menu-btn">이용하기</a>
            </div>
          </div>
        </div>
      </div>
      
      <!-- 부동산 계산기 메인 메뉴 -->
      <div class="main-menu-card">
        <div class="main-menu-header">
          <div class="main-menu-icon">🏠</div>
          <div class="main-menu-info">
            <h3>부동산 계산기</h3>
            <p>전세와 월세를 변환하고 비교하는 부동산 관련 계산을 제공합니다.</p>
          </div>
        </div>
        
        <div class="sub-menu-grid">
          <div class="sub-menu-item">
            <div class="sub-menu-icon">🏠</div>
            <div class="sub-menu-content">
              <h4>전월세 전환 계산기</h4>
              <p>전세와 월세를 상호 변환하여 어떤 방식이 더 유리한지 비교합니다.</p>
              <a href="jeonse-to-wolse.html" class="sub-menu-btn">이용하기</a>
            </div>
          </div>
          <div class="sub-menu-item">
            <div class="sub-menu-icon">🏢</div>
            <div class="sub-menu-content">
              <h4>부동산 양도세 계산기</h4>
              <p>양도차익과 보유 기간을 입력해 예상 양도소득세와 지방세를 계산합니다.</p>
              <a href="real-estate-tax-calculator.html" class="sub-menu-btn">이용하기</a>
            </div>
          </div>
          <div class="sub-menu-item">
            <div class="sub-menu-icon">📝</div>
            <div class="sub-menu-content">
              <h4>부동산 취득세 계산기</h4>
              <p>취득가액과 주택 보유 수에 따른 취득세·지방교육세·특별세를 산출합니다.</p>
              <a href="real-estate-acquisition-tax-calculator.html" class="sub-menu-btn">이용하기</a>
            </div>
          </div>
        </div>
      </div>
      
      <!-- 날짜 계산기 메인 메뉴 -->
      <div class="main-menu-card">
        <div class="main-menu-header">
          <div class="main-menu-icon">📅</div>
          <div class="main-menu-info">
            <h3>날짜 계산기</h3>
            <p>음력과 양력을 손쉽게 변환해 명절, 기념일 등 다양한 일정을 관리할 수 있습니다.</p>
          </div>
        </div>

        <div class="sub-menu-grid">
          <div class="sub-menu-item">
            <div class="sub-menu-icon">🌕</div>
            <div class="sub-menu-content">
              <h4>음력·양력 계산기</h4>
              <p>음력과 양력 날짜를 상호 변환하고 윤달 여부까지 정확하게 확인합니다.</p>
              <a href="lunar-solar-converter.html" class="sub-menu-btn">이용하기</a>
            </div>
          </div>
        </div>
      </div>
      
      <!-- 건강 계산기 메인 메뉴 -->
      <div class="main-menu-card">
        <div class="main-menu-header">
          <div class="main-menu-icon">💪</div>
          <div class="main-menu-info">
            <h3>건강 계산기</h3>
            <p>BMI와 같은 건강 지표를 간편하게 계산해 체중 관리에 활용할 수 있습니다.</p>
          </div>
        </div>

        <div class="sub-menu-grid">
          <div class="sub-menu-item">
            <div class="sub-menu-icon">⚖️</div>
            <div class="sub-menu-content">
              <h4>BMI 계산기</h4>
              <p>키와 몸무게를 입력하면 체질량지수와 체중 상태 구간을 즉시 확인합니다.</p>
              <a href="bmi-calculator.html" class="sub-menu-btn">이용하기</a>
            </div>
          </div>
          <div class="sub-menu-item">
            <div class="sub-menu-icon">🔥</div>
            <div class="sub-menu-content">
              <h4>기초 대사량 계산기</h4>
              <p>성별·키·체중·나이를 입력해 하루 기초 대사량(kcal)을 확인합니다.</p>
              <a href="bmr-calculator.html" class="sub-menu-btn">이용하기</a>
            </div>
          </div>
        </div>
      </div>
      
      <!-- 나이 계산기 메인 메뉴 -->
      <div class="main-menu-card">
        <div class="main-menu-header">
          <div class="main-menu-icon">🎂</div>
          <div class="main-menu-info">
            <h3>나이 계산기</h3>
            <p>만 나이, 세는 나이, 연 나이를 한 번에 계산하여 정확한 나이를 확인할 수 있습니다.</p>
          </div>
        </div>
        
        <div class="sub-menu-grid">
          <div class="sub-menu-item">
            <div class="sub-menu-icon">🎂</div>
            <div class="sub-menu-content">
              <h4>나이 계산기</h4>
              <p>만 나이, 세는 나이, 연 나이를 계산하여 정확한 나이를 확인할 수 있습니다.</p>
              <a href="age-calculator.html" class="sub-menu-btn">이용하기</a>
            </div>
          </div>
          
          <div class="sub-menu-item">
            <div class="sub-menu-icon">🐉</div>
            <div class="sub-menu-content">
              <h4>띠 계산기</h4>
              <p>출생년도에 따른 띠를 계산하여 한국 전통 정보를 확인할 수 있습니다.</p>
              <a href="zodiac-calculator.html" class="sub-menu-btn">이용하기</a>
            </div>
          </div>
        </div>
      </div>
      
    </section>
  </main>
  <footer class="footer">
    <div class="footer-links">
      <a href="terms.html">서비스 이용약관</a>
    </div>
    <div class="footer-copy">©2025 계산기 모음zip. All rights reserved.</div>
  </footer>
  <div id="social-links" aria-hidden="true" style="display:none">
    <a href="https://www.instagram.com/" rel="me nofollow noopener" target="_blank" data-platform="instagram">Instagram</a>
    <a href="https://www.facebook.com/" rel="me nofollow noopener" target="_blank" data-platform="facebook">Facebook</a>
    <a href="https://www.youtube.com/" rel="me nofollow noopener" target="_blank" data-platform="youtube">YouTube</a>
    <a href="https://www.linkedin.com/" rel="me nofollow noopener" target="_blank" data-platform="linkedin">LinkedIn</a>
    <a href="https://www.threads.net/" rel="me nofollow noopener" target="_blank" data-platform="threads">Threads</a>
    <a href="https://www.pinterest.com/" rel="me nofollow noopener" target="_blank" data-platform="pinterest">Pinterest</a>
    <a href="https://twitter.com/" rel="me nofollow noopener" target="_blank" data-platform="twitter">Twitter</a>
  </div>
  <script type="text/javascript" src="//wcs.pstatic.net/wcslog.js"></script>
  <script type="text/javascript">
  if(!wcs_add) var wcs_add = {};
  wcs_add["wa"] = "15bdb2c92e75400";
  if(window.wcs) {
    wcs_do();
  }
  </script>
  <script>
  // ===== 유틸 =====
  function _num(v){ if(v==null) return 0; const s=String(v).replace(/[,\s]/g,''); if(s==='') return 0; const n=Number(s); return isFinite(n)?n:0; }
  function _vis(el){ if(!el) return false; const st=getComputedStyle(el); return st.display!=='none'&&st.visibility!=='hidden'&&el.offsetParent!==null; }
  function _findByLabel(txt){
    const nodes=[...document.querySelectorAll('label,p,span,div,dt,th')];
    for(const n of nodes){
      const t=(n.textContent||'').replace(/\s+/g,'').trim(); if(!t||!t.includes(txt)) continue;
      const scope=n.closest('section,fieldset,li,div,article,tr')||n.parentElement||document.body;
      const cand=scope.querySelector('input[type="number"],input[type="text"],input:not([type]),select');
      if(cand) return cand;
      const sib=n.nextElementSibling; if(sib){ const c2=sib.matches('input,select')?sib:sib.querySelector('input,select'); if(c2) return c2; }
    } return null;
  }
  function _detectFreq(){
    const map=(s)=>s?.includes('연')?'year':s?.includes('월')?'month':s?.includes('주')?'week':s?.includes('일')?'day':null;
    const direct=_findByLabel('복리주기')||document.getElementById('frequency');
    if(direct){
      if(direct.tagName==='SELECT'){
        const val=(direct.value||'').toLowerCase();
        if(['year','month','week','day'].includes(val)) return val;
        const opt=direct.options?.[direct.selectedIndex];
        const guess=map((opt?.textContent||'').trim());
        if(guess) return guess;
      }
      if(direct instanceof HTMLInputElement){
        if(['radio','button'].includes((direct.type||'').toLowerCase())){
          if(direct.checked){
            const val=(direct.value||'').toLowerCase();
            if(['year','month','week','day'].includes(val)) return val;
          }
        }else{
          const val=(direct.value||'').toLowerCase();
          if(['year','month','week','day'].includes(val)) return val;
        }
      }
    }
    const checked=document.querySelector('input[type="radio"]:checked');
    if(checked){
      const val=(checked.value||'').toLowerCase(); if(['year','month','week','day'].includes(val)) return val;
      const lab=document.querySelector(`label[for="${checked.id}"]`); const guess=map((lab?.textContent||checked.nextSibling?.textContent||'').trim()); if(guess) return guess;
    }
    const act=document.querySelector('.active,[aria-pressed="true"]'); return map((act?.textContent||'').trim())||'month';
  }
  function _detectCurrency(){
    const fx=_findByLabel('환율(1달러당원화)')||_findByLabel('환율(1달러당원화)'); return (fx&&_vis(fx))?'USD':'KRW';
  }
  const _fmtInt=(v)=>Math.round(v).toLocaleString('ko-KR');
  function formatDisplay(value, fxRate, cur){
    const fx=fxRate>0?fxRate:null;
    if(cur==='USD'){
      const main=`$ ${_fmtInt(value)}`;
      const alt=fx?` (₩ ${_fmtInt(value*fx)})`:'';
      return { main, alt };
    }
    const main=`원 ${_fmtInt(value)}`;
    const alt=fx?` ($ ${_fmtInt(value/fx)})`:'';
    return { main, alt };
  }

  // ===== 세금모드(선택) =====
  const TAX_MODE='MONTHLY'; // 'MONTHLY' | 'EOP'

  // ===== 핵심 계산 =====
  function computeCompound({principal, annualRatePct, years, taxPct, compFreq, monthlyContribution, currency, fxRate}){
    const rNom=Math.max(0,annualRatePct)/100;
    const t=Math.max(0,taxPct)/100, Y=Math.max(0,years);
    const P=Math.max(0,principal), PMT=Math.max(0,monthlyContribution), fx=Math.max(0,fxRate);
    const nMap={year:1, month:12, week:52, day:365}; const nRaw=nMap[compFreq]??12;
    const n=Math.max(1,nRaw);
    const totalPeriods=n*Y;
    const monthlyPeriods=12*Y;
    const i_n=n>0?rNom/n:0;
    const i_m=Math.pow(1+i_n, n/12)-1;
    const FV_P=P*Math.pow(1+i_n,totalPeriods);
    const FV_C=(PMT===0)?0:(i_m===0?PMT*monthlyPeriods:PMT*((Math.pow(1+i_m,monthlyPeriods)-1)/i_m));
    const FV_gross=FV_P+FV_C;
    const paid=P+PMT*monthlyPeriods;
    const interest=Math.max(0,FV_gross-paid);

    const taxEOP=interest*t;
    const eop_net=FV_gross-taxEOP;
    const eop_interestAfter=Math.max(0,eop_net-paid);

    let taxAmt=taxEOP;
    let FV_net=eop_net;
    let monthlyNet=eop_net;
    let monthlyTax=taxEOP;

    if(t>0 && monthlyPeriods>0){
      const monthlyRate=i_m||0;
      let balance=P;
      let taxSum=0;
      const fullMonths=Math.max(0,Math.floor(monthlyPeriods));
      const fracMonth=Math.max(0,monthlyPeriods-fullMonths);
      for(let m=0;m<fullMonths;m++){
        const interestPortion=balance*monthlyRate;
        const taxThis=interestPortion*t;
        taxSum+=taxThis;
        balance+=interestPortion-taxThis;
        balance+=PMT;
      }
      if(fracMonth>1e-9){
        const partialRate=Math.pow(1+monthlyRate,fracMonth)-1;
        const interestPortion=balance*partialRate;
        const taxThis=interestPortion*t;
        taxSum+=taxThis;
        balance+=interestPortion-taxThis;
        balance+=PMT*fracMonth;
      }
      monthlyNet=balance;
      monthlyTax=taxSum;
    }else{
      monthlyNet=FV_gross-taxEOP;
      monthlyTax=taxEOP;
    }

    if(TAX_MODE==='MONTHLY'){
      FV_net=monthlyNet;
      taxAmt=monthlyTax;
    }

    const out={ FV_net, FV_gross, FV_P, FV_C, paid, interest, taxAmt,
                eop_net, eop_interestAfter,
                monthly_net:monthlyNet, monthly_interestAfter:Math.max(0,monthlyNet-paid),
                monthly_taxAmt:monthlyTax };
    if(currency==='USD'&&fx>0){
      const baseNet=TAX_MODE==='EOP'?eop_net:FV_net;
      out.FV_net_KRW=baseNet*fx;
      out.FV_gross_KRW=FV_gross*fx; out.taxAmt_KRW=taxAmt*fx; out.paid_KRW=paid*fx; out.interest_KRW=interest*fx;
    }
    return out;
  }

  // ===== 바인딩 & 렌더링 =====
  function calcAndRender(){
    const cur=_detectCurrency(); const freq=_detectFreq();
    const elP=_findByLabel('원금(₩)')||_findByLabel('원금($)')||_findByLabel('원금');
    const elR=_findByLabel('연이율(%)')||_findByLabel('연이율');
    const elY=_findByLabel('기간(년)')||_findByLabel('기간');
    const elTax=_findByLabel('세금(%)')||_findByLabel('세금');
    const elPMT=_findByLabel('월적립액')||_findByLabel('월적립액(선택)');
    const elFX=_findByLabel('환율(1달러당원화)');
    const fxVal=_num(elFX?.value);

    const res=computeCompound({
      principal:_num(elP?.value),
      annualRatePct:_num(elR?.value),
      years:_num(elY?.value),
      taxPct:_num(elTax?.value),
      monthlyContribution:_num(elPMT?.value),
      compFreq:freq,
      currency:cur,
      fxRate:fxVal
    });

    const anchor=(()=>{ const h=[...document.querySelectorAll('h2,h3,h4,h5,h6')].find(h=>/계산\s*결과/.test(h.textContent||'')); return h?(h.parentElement||document.body):document.body; })();
    let tbl=anchor.querySelector('#compound-result');
    if(!tbl){ tbl=document.createElement('table'); tbl.id='compound-result'; Object.assign(tbl.style,{width:'100%',borderCollapse:'collapse',marginTop:'12px'}); anchor.appendChild(tbl); }
    const formatVal=(v)=>{ const {main,alt}=formatDisplay(v,fxVal,cur); return main+alt; };

    const netMain=formatVal(TAX_MODE==='EOP'?res.eop_net:res.FV_net);
    const grossMain=formatVal(res.FV_gross);
    const paidMain=formatVal(res.paid);
    const intMain=formatVal(res.interest);
    const taxMain=formatVal(res.taxAmt);

    const rows=[
      ['총 납입원금', paidMain],
      ['세전 최종금액', grossMain],
      ['이자(세전)', intMain],
      ['세금(이자 기준)', taxMain],
      ['세후 최종금액', netMain],
    ];
    tbl.innerHTML=rows.map(([k,v])=>`
      <tr>
        <th style="text-align:left;border-bottom:1px solid #eee;padding:8px 4px;">${k}</th>
        <td style="text-align:right;border-bottom:1px solid #eee;padding:8px 4px;font-weight:600;">${v}</td>
      </tr>`).join('');
  }

  // 초기화: 버튼/입력 변화 연결 + 최초 계산
  (function initCompound(){
    const btn=[...document.querySelectorAll('button,input[type="button"],a')].find(b=>/계산하기/.test((b.textContent||b.value||'').trim()));
    if(btn) btn.addEventListener('click', (e)=>{ e.preventDefault?.(); calcAndRender(); });
    let tid=null; document.addEventListener('input',(e)=>{ if(!(e.target instanceof HTMLInputElement)&&!(e.target instanceof HTMLSelectElement)) return; clearTimeout(tid); tid=setTimeout(calcAndRender,150); });
    setTimeout(calcAndRender,0);
  })();
  </script>
</body>
</html>
